{
  "types": [
    {
      "$type": "sum",
      "name": "type_tag",
      "cases": [
        {
          "name": "str",
          "fields": [],
          "template": [
          ]
        },
        {
          "name": "opt",
          "fields": [
            {
              "name": "item",
              "tag": {
                "$type": "ref",
                "name": "type_tag"
              }
            }
          ],
          "template": [
          ]
        },
        {
          "name": "arr",
          "fields": [
            {
              "name": "item",
              "tag": {
                "$type": "ref",
                "name": "type_tag"
              }
            }
          ],
          "template": [
          ]
        },
        {
          "name": "bag",
          "fields": [
            {
              "name": "item",
              "tag": {
                "$type": "ref",
                "name": "type_tag"
              }
            }
          ],
          "template": [
          ]
        },
        {
          "name": "ref",
          "fields": [
            {
              "name": "name",
              "tag": {
                "$type": "str"
              }
            }
          ],
          "template": [
            {
              "$type": "str_field",
              "name": "name",
              "style": "reference"
            }
          ]
        }
      ]
    },
    {
      "$type": "record",
      "name": "name_type_tag",
      "fields": [
        {
          "name": "name",
          "tag": {
            "$type": "str"
          }
        },
        {
          "name": "tag",
          "tag": {
            "$type": "ref",
            "name": "type_tag"
          }
        }
      ],
      "template": [
        {
          "$type": "compose",
          "content": [
            {
              "$type": "str_field",
              "name": "name",
              "style": "declare"
            },
            {
              "$type": "separator",
              "str": ":"
            },
            {
              "$type": "field",
              "name": "tag"
            }
          ]
        }
      ]
    },
    {
      "$type": "record",
      "name": "case",
      "fields": [
        {
          "name": "name",
          "tag": {
            "$type": "str"
          }
        },
        {
          "name": "fields",
          "tag": {
            "$type": "arr",
            "item": {
              "$type": "ref",
              "name": "name_type_tag"
            }
          }
        },
        {
          "name": "template",
          "tag": {
            "$type": "opt",
            "item": {
              "$type": "ref",
              "name": "template"
            }
          }
        }
      ],
      "template": [
        {
          "$type": "compose",
          "content": [
            {
              "$type": "keyword",
              "str": "case"
            },
            {
              "$type": "pad"
            },
            {
              "$type": "str_field",
              "name": "name",
              "style": "declare"
            },
            {
              "$type": "tree",
              "b1": {
                "$type": "delimiter",
                "str": "("
              },
              "content": [
                {
                  "$type": "field",
                  "name": "fields"
                },
                {
                  "$type": "field",
                  "name": "template"
                }
              ],
              "sep":
                {
                  "$type": "separator",
                  "str": ","
                }
              ,
              "b2": {
                "$type": "delimiter",
                "str": ")"
              }
            }
          ]
        }
      ]
    },
    {
      "$type": "record",
      "name": "language",
      "fields": [
        {
          "name": "types",
          "tag": {
            "$type": "arr",
            "item": {
              "$type": "ref",
              "name": "type"
            }
          }
        },
        {
          "name": "root",
          "tag": {
            "$type": "ref",
            "name": "type_tag"
          }
        }
      ],
      "template": [
      ]
    },
    {
      "$type": "sum",
      "name": "type",
      "cases": [
        {
          "name": "record",
          "fields": [
            {
              "name": "name",
              "tag": {
                "$type": "str"
              }
            },
            {
              "name": "fields",
              "tag": {
                "$type": "arr",
                "item": {
                  "$type": "ref",
                  "name": "name_type_tag"
                }
              }
            },
            {
              "name": "template",
              "tag": {
                "$type": "opt",
                "item": {
                  "$type": "ref",
                  "name": "template"
                }
              }
            }
          ],
          "template": [
            {
              "$type": "compose",
              "content": [
                {
                  "$type": "keyword",
                  "str": "record"
                },
                {
                  "$type": "pad"
                },
                {
                  "$type": "str_field",
                  "name": "name",
                  "style": "declare"
                },
                {
                  "$type": "tree",
                  "b1": {
                    "$type": "delimiter",
                    "str": "("
                  },
                  "content": [
                    {
                      "$type": "field",
                      "name": "fields"
                    },
                    {
                      "$type": "field",
                      "name": "template"
                    }
                  ],
                  "sep":
                    {
                      "$type": "separator",
                      "str": ","
                    }
                  ,
                  "b2": {
                    "$type": "delimiter",
                    "str": ")"
                  }
                }
              ]
            }
          ]
        },
        {
          "name": "sum",
          "fields": [
            {
              "name": "name",
              "tag": {
                "$type": "str"
              }
            },
            {
              "name": "cases",
              "tag": {
                "$type": "arr",
                "item": {
                  "$type": "ref",
                  "name": "case"
                }
              }
            }
          ],
          "template": [
            {
              "$type": "compose",
              "content": [
                {
                  "$type": "keyword",
                  "str": "sum"
                },
                {
                  "$type": "pad"
                },
                {
                  "$type": "str_field",
                  "name": "name",
                  "style": "declare"
                },
                {
                  "$type": "pad"
                },
                {
                  "$type": "tree",
                  "b1": {
                    "$type": "compose",
                    "content": [
                      {
                        "$type": "delimiter",
                        "str": "{"
                      },
                      {
                        "$type": "right_pad"
                      }
                    ]
                  },
                  "content": [
                    {
                      "$type": "unfold",
                      "name": "cases"
                    }
                  ],
                  "sep":
                    {
                      "$type": "separator",
                      "str": ";"
                    }
                  ,
                  "b2": {
                    "$type": "compose",
                    "content": [
                      {
                        "$type": "left_pad"
                      },
                      {
                        "$type": "delimiter",
                        "str": "}"
                      }
                    ]
                  }
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "$type": "sum",
      "name": "template",
      "cases": [
        {
          "name": "keyword",
          "fields": [
            {
              "name": "str",
              "tag": {
                "$type": "str"
              }
            }
          ],
          "template": [
            {
              "$type": "compose",
              "content" : [
                {
                  "$type": "keyword",
                  "str": "keyword"
                },
                {
                  "$type": "delimiter",
                  "str": "("
                },
                {
                  "$type": "str_field",
                  "name": "str",
                  "style": "const"
                },
                {
                  "$type": "delimiter",
                  "str": ")"
                }
              ]
            }
          ]
        },
        {
          "name": "unfold",
          "fields": [
            {
              "name": "name",
              "tag": {
                "$type": "str"
              }
            }
          ],
          "template": [
            {
              "$type": "compose",
              "content" : [
                {
                  "$type": "keyword",
                  "str": "unfold"
                },
                {
                  "$type": "delimiter",
                  "str": "("
                },
                {
                  "$type": "str_field",
                  "name": "name",
                  "style": "reference"
                },
                {
                  "$type": "delimiter",
                  "str": ")"
                }
              ]
            }
          ]
        },
        {
          "name": "str_field",
          "fields": [
            {
              "name": "name",
              "tag": {
                "$type": "str"
              }
            },
            {
              "name": "style",
              "tag": {
                "$type": "str"
              }
            }
          ],
          "template": [
            {
              "$type": "compose",
              "content" : [
                {
                  "$type": "keyword",
                  "str": "str_field"
                },
                {
                  "$type": "delimiter",
                  "str": "("
                },
                {
                  "$type": "str_field",
                  "name": "name",
                  "style": "reference"
                },
                {
                  "$type": "separator",
                  "str": ","
                },
                {
                  "$type": "str_field",
                  "name": "style",
                  "style": "const"
                },
                {
                  "$type": "delimiter",
                  "str": ")"
                }
              ]
            }
          ]
        },
        {
          "name": "field",
          "fields": [
            {
              "name": "name",
              "tag": {
                "$type": "str"
              }
            }
          ],
          "template": [
            {
              "$type": "compose",
              "content" : [
                {
                  "$type": "keyword",
                  "str": "field"
                },
                {
                  "$type": "delimiter",
                  "str": "("
                },
                {
                  "$type": "str_field",
                  "name": "name",
                  "style": "reference"
                },
                {
                  "$type": "delimiter",
                  "str": ")"
                }
              ]
            }
          ]
        },
        {
          "name": "compose",
          "fields": [
            {
              "name": "content",
              "tag": {
                "$type": "arr",
                "item": {
                  "$type": "ref",
                  "name": "template"
                }
              }
            }
          ]
        },
        {
          "name": "tree",
          "fields": [
            {
              "name": "b1",
              "tag": {
                "$type": "ref",
                "name": "template"
              }
            },
            {
              "name": "content",
              "tag": {
                "$type": "arr",
                "item": {
                  "$type": "ref",
                  "name": "template"
                }
              }
            },
            {
              "name": "sep",
              "tag": {
                "$type": "ref",
                "name": "template"
              }
            },
            {
              "name": "b2",
              "tag": {
                "$type": "ref",
                "name": "template"
              }
            }
          ],
          "template": [
          ]
        },
        {
          "name": "right_pad",
          "fields": [
          ],
          "template": [
          ]
        },
        {
          "name": "pad",
          "fields": [
          ],
          "template": [
          ]
        },
        {
          "name": "left_pad",
          "fields": [
          ],
          "template": [
          ]
        },
        {
          "name": "delimiter",
          "fields": [
            {
              "name": "str",
              "tag": {
                "$type": "str"
              }
            }
          ],
          "template": [
            {
              "$type": "compose",
              "content" : [
                {
                  "$type": "keyword",
                  "str": "delimiter"
                },
                {
                  "$type": "delimiter",
                  "str": "("
                },
                {
                  "$type": "str_field",
                  "name": "str",
                  "style": "const"
                },
                {
                  "$type": "delimiter",
                  "str": ")"
                }
              ]
            }
          ]
        },
        {
          "name": "separator",
          "fields": [
            {
              "name": "str",
              "tag": {
                "$type": "str"
              }
            }
          ],
          "template": [
            {
              "$type": "compose",
              "content" : [
                {
                  "$type": "keyword",
                  "str": "separator"
                },
                {
                  "$type": "delimiter",
                  "str": "("
                },
                {
                  "$type": "str_field",
                  "name": "str",
                  "style": "const"
                },
                {
                  "$type": "delimiter",
                  "str": ")"
                }
              ]
            }
          ]
        }
      ]
    }
  ],
  "root": {
    "$type": "ref",
    "name": "language"
  }
}